CREATE DATABASE BDAppDeRecordatorio;
GO
USE BDAppDeRecordatorio;
GO
CREATE TABLE Administrador (
    Adm_ID VARCHAR(20) PRIMARY KEY,
    Adm_Nombre VARCHAR(80) NOT NULL,
    Adm_Usuario VARCHAR(50) NOT NULL,
    Adm_Contrasena VARCHAR(100) NOT NULL
);
GO
CREATE TABLE Medico (
    Med_ID VARCHAR(20) PRIMARY KEY,
    Med_Nombre VARCHAR(80) NOT NULL,
    Med_Especialidad VARCHAR(80) NOT NULL,
    Med_Usuario VARCHAR(50) NOT NULL,
    Med_Contrasena VARCHAR(100) NOT NULL
);
GO
CREATE TABLE Paciente (
    ID_Paciente VARCHAR(20) PRIMARY KEY,
    Paci_Nombre VARCHAR(80) NOT NULL,
    Paci_Genero VARCHAR(20) NULL,
    Paci_Usuario VARCHAR(50) NOT NULL,
    Paci_Contrasena VARCHAR(100) NOT NULL,
    Paci_Edad INT NULL,
    Paci_Contacto VARCHAR(80) NULL
);
GO
CREATE TABLE Tratamiento (
    Trat_ID VARCHAR(20) PRIMARY KEY,
    Trat_Nombre VARCHAR(80) NOT NULL,
    Trat_Descripcion VARCHAR(200) NULL,
    Trat_FechaInicio DATE NOT NULL,
    Trat_FechaFin DATE NULL,
    Med_ID VARCHAR(20) NOT NULL,
    FOREIGN KEY (Med_ID) REFERENCES Medico(Med_ID)
);
GO

CREATE TABLE Medicamento (
    Medica_ID VARCHAR(20) PRIMARY KEY,
    Medica_Nombre VARCHAR(80) NOT NULL,
    Medica_Dosis VARCHAR(50) NULL,
    Medica_Frecuencia VARCHAR(50) NULL,
    Medica_Efectos VARCHAR(200) NULL,
    Trat_ID VARCHAR(20) NOT NULL,
    FOREIGN KEY (Trat_ID) REFERENCES Tratamiento(Trat_ID)
);
GO

CREATE TABLE HistorialPaciente (
    Hist_ID VARCHAR(20) PRIMARY KEY,
    Hist_Fecha DATE NOT NULL,
    Hist_Descripcion VARCHAR(200) NULL,
    Hist_Tipo VARCHAR(50) NOT NULL,
    ID_Paciente VARCHAR(20) NOT NULL,
    Trat_ID VARCHAR(20) NOT NULL,
    FOREIGN KEY (ID_Paciente) REFERENCES Paciente(ID_Paciente),
    FOREIGN KEY (Trat_ID) REFERENCES Tratamiento(Trat_ID)
);
GO

CREATE TABLE Reporte (
    Rep_ID VARCHAR(20) PRIMARY KEY,
    Rep_Descripcion VARCHAR(200) NULL,
    Rep_Tipo VARCHAR(50) NOT NULL,
    Rep_Fecha DATE NOT NULL,
    Med_ID VARCHAR(20) NOT NULL,
    ID_Paciente VARCHAR(20) NOT NULL,
    FOREIGN KEY (Med_ID) REFERENCES Medico(Med_ID),
    FOREIGN KEY (ID_Paciente) REFERENCES Paciente(ID_Paciente)
);
GO

CREATE TABLE Notificacion (
    Noti_ID VARCHAR(20) PRIMARY KEY,
    Noti_Descripcion VARCHAR(200) NOT NULL,
    Noti_Fecha DATE NOT NULL,
    Noti_Estado VARCHAR(50) NOT NULL,
    ID_Paciente VARCHAR(20) NOT NULL,
    Med_ID VARCHAR(20) NULL,
    FOREIGN KEY (ID_Paciente) REFERENCES Paciente(ID_Paciente),
    FOREIGN KEY (Med_ID) REFERENCES Medico(Med_ID)
);
GO
